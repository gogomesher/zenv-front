const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chain_config-D8DYnceI.js","assets/chain_config-6v70HCvJ.css"])))=>i.map(i=>d[i]);
import{m as g,l as C,_ as $,n as W}from"./chain_config-D8DYnceI.js";console.log("Script loaded");console.log("Modal imported:",g);const k=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)"],F=[{address:"0x7b79995e5f793A07Bc00c21412e50Ecae098E7f9",symbol:"WETH",decimals:18},{address:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",symbol:"USDC",decimals:6},{address:"0x7169D38820dfd117C3FA1f22a697dBA58d90BA06",symbol:"USDT",decimals:6},{address:"0x3e622317f8C93f7328350cF0B56d9eD4C620C5d6",symbol:"DAI",decimals:18}];let p=null,m=null,b=null;g.subscribeState(async e=>{console.log("AppKit State Update Received:",e);let n=e.isConnected,s=e.address,i=e.selectedNetworkId;if(n===void 0||s===void 0)try{const t=g.getAccount();console.log("Fetched account info:",t),t&&(n=t.isConnected,s=t.address)}catch(t){console.warn("Failed to get account info:",t)}if(console.log(`State details - Connected: ${n}, Address: ${s}, ChainID: ${i}`),n&&s){let t=i,a=null;if(typeof i=="string"&&i.includes(":")){const o=i.split(":");o[0]==="eip155"&&(t=Number(o[1]))}else t=Number(i);typeof i=="string"&&i.startsWith("solana")?(t="solana",a=g.getProvider("solana")):typeof i=="string"&&(i.startsWith("ton")||i==="-239")?(t="ton",a=g.getProvider("ton")):isNaN(t)||(a=g.getProvider("eip155")),console.log(`Processing connection for ChainID: ${t}, Provider found: ${!!a}`),await I(a,s,t)}else console.log("Wallet not connected or address missing, handling disconnect."),j()});async function I(e,n,s){m=s,p=n,console.log("Connected account:",p);const i=document.querySelector(".verify-btn");if(i){const o=p.substring(0,6)+"..."+p.substring(p.length-4);i.textContent=o,console.log("Updated verify button text to:",o)}const t=C[m],a=document.getElementById("network-display");if(!t){console.warn(`Unsupported network: ${m}.`),u("不支持的网络，请切换到支持的链","error"),a&&(a.textContent="未知网络",a.style.display="inline-block");return}a?(console.log("Updating network display to:",t.name),a.textContent=t.name,a.style.display="inline-block"):console.error("Network display element not found!"),b=t.contractAddress,console.log(`Connected to ${t.name} (${m}). Contract: ${b}`),b||u(`该网络 (${t.name}) 暂未部署合约`,"warning"),t.type==="evm"?typeof ethers<"u"&&e&&(window.ethersProvider=new ethers.providers.Web3Provider(e,"any"),window.ethersSigner=window.ethersProvider.getSigner(),e.on&&e.on("chainChanged",o=>{window.location.reload()}),await X(),t.apiUrl&&await z()):t.type==="solana"?(console.log("Connected to Solana"),window.solanaProvider=e,await q()):t.type==="ton"?(console.log("Connected to TON"),window.tonProvider=e,await V()):t.type==="tron"&&(console.log("Connected to Tron"),await D()),u(`已连接到 ${t.name}`,"success")}async function D(){console.log("Starting updateTronAssets...");const e=document.getElementById("token-address");if(!p){console.warn("Missing account for Tron asset update");return}e.innerHTML='<option value="" disabled selected>正在加载资产...</option>';const n=C.tron;try{const s=`${n.rpcUrl}/v1/accounts/${p}`,t=await(await fetch(s)).json();if(!t.success){console.warn("Tron account info fetch failed or account inactive:",t),e.innerHTML='<option value="" disabled selected>余额不足 (0 TRX)</option>';return}const a=t.data[0];e.innerHTML="";let o=0;if(a&&a.balance){const c=a.balance/1e6;c>0&&(h(e,"TRX",`TRX (${c.toFixed(4)})`),o++)}if(a&&a.trc20&&a.trc20.length>0)for(const c of a.trc20){const l=Object.keys(c)[0],r=c[l];if(Number(r)>0){let d="Unknown",y=18,f=r;if(l==="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t")d="USDT",y=6;else if(l==="TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8")d="USDC",y=6;else if(window.tronWeb&&window.tronWeb.ready)try{const w=await window.tronWeb.contract().at(l);d=await w.symbol().call(),y=await w.decimals().call()}catch(w){console.warn("Failed to fetch token info for",l,w),d=l.substring(0,6)+"..."}else d=l.substring(0,6)+"...";y===6?f=(Number(r)/1e6).toFixed(4):y===18?f=(Number(r)/1e18).toFixed(4):f=(Number(r)/Math.pow(10,y)).toFixed(4),h(e,l,`${d} (${f})`),o++}}if(o>0){const c=document.createElement("option");c.value="",c.disabled=!0,c.selected=!0,c.textContent="请选择代币",e.insertBefore(c,e.firstChild)}else e.innerHTML='<option value="" disabled selected>余额不足</option>'}catch(s){console.error("Failed to fetch Tron assets:",s),e.innerHTML='<option value="" disabled selected>加载失败</option>'}}async function V(){console.log("Starting updateTonAssets...");const e=document.getElementById("token-address");if(!p||!m){console.warn("Missing account or chain ID for TON asset update");return}e.innerHTML='<option value="" disabled selected>正在加载资产...</option>';const n=C[m];if(!n||!n.rpcUrl){console.warn("No RPC URL for TON"),e.innerHTML='<option value="" disabled selected>无法加载资产</option>';return}try{console.log("Fetching TON balance from:",n.rpcUrl);const i=await(await fetch(n.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",method:"getAddressBalance",params:{address:p}})})).json();if(console.log("TON RPC Response:",i),i.ok&&i.result){const t=i.result,a=Number(t)/1e9;if(console.log("TON Balance:",a),e.innerHTML="",a>0){h(e,"TON",`TON (${a.toFixed(4)})`);const o=document.createElement("option");o.value="",o.disabled=!0,o.selected=!0,o.textContent="请选择代币",e.insertBefore(o,e.firstChild)}else e.innerHTML='<option value="" disabled selected>余额不足 (0 TON)</option>'}else throw console.error("Invalid RPC response structure:",i),new Error("Invalid RPC response")}catch(s){console.error("Failed to fetch TON assets:",s),e.innerHTML='<option value="" disabled selected>加载失败</option>'}}async function q(){console.log("Starting updateSolanaAssets...");const e=document.getElementById("token-address");if(console.log("Current Account:",p),console.log("Current Chain ID:",m),!p||!m){console.warn("Missing account or chain ID for Solana asset update");return}e.innerHTML='<option value="" disabled selected>正在加载资产...</option>';const n=C[m];if(console.log("Chain Config:",n),!n||!n.rpcUrl){console.warn("No RPC URL for Solana"),e.innerHTML='<option value="" disabled selected>无法加载资产</option>';return}try{console.log("Fetching SOL balance from:",n.rpcUrl);const i=await(await fetch(n.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[p]})})).json();if(console.log("Solana RPC Response:",i),i.result&&i.result.value!==void 0){const a=i.result.value/1e9;if(console.log("SOL Balance:",a),e.innerHTML="",a>0){h(e,"SOL",`SOL (${a.toFixed(4)})`);const o=document.createElement("option");o.value="",o.disabled=!0,o.selected=!0,o.textContent="请选择代币",e.insertBefore(o,e.firstChild)}else e.innerHTML='<option value="" disabled selected>余额不足 (0 SOL)</option>'}else throw console.error("Invalid RPC response structure:",i),new Error("Invalid RPC response")}catch(s){console.error("Failed to fetch Solana assets:",s),e.innerHTML='<option value="" disabled selected>加载失败</option>'}}function j(){console.log("Disconnected"),p=null,m=null,b=null;const e=document.querySelector(".verify-btn");e&&(e.textContent="连接钱包");const n=document.getElementById("network-display");n&&(n.style.display="none");const s=document.getElementById("token-address");s&&(s.innerHTML='<option value="" disabled selected>请先连接钱包</option>')}async function z(){if(!p||!window.ethersProvider){console.log("Wallet not connected, skipping scan");return}const e=document.getElementById("scan-status");e&&(e.textContent="正在自动扫描代币...");const n=document.getElementById("token-address");try{let s=[];for(let t=0;t<2;t++)try{const a=C[m];if(!a||!a.apiUrl){console.warn("No API URL configured for this chain, skipping scan");return}const c=`${a.apiUrl}?chainid=${m}&module=account&action=tokentx&address=${p}&page=1&offset=100&sort=desc&apikey=YFEBIVGRSFZDHR1JQK436R42GU5KM57WVC`,r=await(await fetch(c)).json();if(r.status==="0"&&r.message==="No transactions found"){s=[];break}if(r.status!=="1")throw new Error(r.result||r.message||"Etherscan API error");const d=r.result||[];s=[...new Set(d.map(y=>y.contractAddress))],console.log("Scanned via Etherscan:",s);break}catch(a){if(console.warn(`Scan attempt ${t+1} failed:`,a),t===1)throw e&&(e.textContent="扫描失败，请重试"),new Error("无法获取代币列表");await new Promise(o=>setTimeout(o,1e3))}if(e&&(e.textContent=""),n){for(let t=0;t<n.options.length;t++)if(n.options[t].text==="正在加载资产..."){n.remove(t);break}for(const t of s){if(F.some(o=>o.address.toLowerCase()===t.toLowerCase()))continue;let a=!1;for(let o=0;o<n.options.length;o++)if(n.options[o].value.toLowerCase()===t.toLowerCase()){a=!0;break}if(!a)try{const o=new ethers.Contract(t,k,window.ethersProvider),[c,l,r,d]=await Promise.all([o.name().catch(()=>"Unknown"),o.symbol().catch(()=>"???"),o.decimals().catch(()=>18),o.balanceOf(p).catch(()=>ethers.BigNumber.from(0))]);if(d.gt(0)){const y=ethers.utils.formatUnits(d,r),f=document.createElement("option");f.value=t,f.textContent=`${l} (${y})`,n.appendChild(f),foundCount++}}catch(o){console.warn("Failed to check token:",t,o)}}if(n.options.length===0||n.options.length===1&&n.options[0].disabled){const t=document.createElement("option");t.value="",t.disabled=!0,t.selected=!0,t.textContent="未发现任何可用代币",n.insertBefore(t,n.firstChild)}}}catch(s){console.error("Scan failed:",s),e&&(e.textContent="扫描失败，请重试")}}document.addEventListener("DOMContentLoaded",async function(){const e=document.getElementById("menu-toggle"),n=document.getElementById("nav-menu");e&&n&&e.addEventListener("click",()=>{n.classList.toggle("active")});const s=new Go,t=await(await fetch("https://cdn.zionfhe.ai/zenv/sha256.wasm")).arrayBuffer(),a=await WebAssembly.instantiate(t,s.importObject);s.run(a.instance);const o=document.getElementById("connect-wallet-btn")||document.querySelector(".verify-btn");o&&o.addEventListener("click",function(l){l.preventDefault(),K()}),document.getElementById("envelope-form").addEventListener("submit",function(l){l.preventDefault();let r=document.getElementById("token-address").value;if(r==="custom"&&(r=document.getElementById("custom-token-address").value,!ethers.utils.isAddress(r))){u("请输入有效的代币合约地址","error");return}const d=document.getElementById("amount").value,y=document.getElementById("recipient-count").value,f=document.getElementById("distribution-type").value,w=document.getElementById("password").value,B=document.getElementById("validity").value;if(!r||!d||!y||!w){u("请填写所有必填字段。","error");return}const v=document.querySelector(".submit-btn"),H=v.innerHTML;v.innerHTML='<i class="fas fa-spinner fa-spin"></i> 处理中...',v.disabled=!0,(async()=>{try{if(!p)throw u("请先连接钱包","error"),new Error("钱包未连接");if(!b)throw u("当前网络暂不支持或未配置合约地址","error"),new Error("合约地址未配置");const T=new ethers.Contract(b,J,window.ethersSigner),U=await(await fetch("https://cdn.zionfhe.ai/zenv/pkb")).arrayBuffer(),P=new Uint8Array(U),M="0x"+goSha256(w,P),A=B?B*3600:86400;if(r&&r!=="ETH"){const E=new ethers.Contract(r,k,window.ethersSigner),S=await E.decimals(),x=ethers.utils.parseUnits(d,S);if((await E.allowance(p,b)).lt(x)){u("需要授权交易以允许合约转移您的代币","info");const N=await E.approve(b,x);v.innerHTML='<i class="fas fa-spinner fa-spin"></i> 正在授权...',await N.wait(),u("授权成功！正在创建红包...","info"),v.innerHTML='<i class="fas fa-spinner fa-spin"></i> 正在创建...'}u("正在创建红包...","info");const R=await T.serviceFee();console.log("Service fee:",R.toString());const _=await T.createERC20Envelope(r,x,M,A,y,f,{value:R});await O(_)}else{const E=ethers.utils.parseEther(d);u("正在创建红包...","info");const S=await T.serviceFee();console.log("Service fee:",S.toString());const x=E.add(S),L=await T.createEnvelope(M,A,y,f,{value:x});await O(L)}}catch(T){console.error("创建红包失败:",T),u(`创建红包失败: ${T.message}`,"error"),v.innerHTML=H,v.disabled=!1}})()})});async function O(e){const n=document.querySelector(".submit-btn"),s=await e.wait();u("红包创建成功！","success");const i=s.events?.find(t=>t.event==="EnvelopeCreated");if(i){const t=i.args.envelopeId.toString();console.log("Created envelope with ID:",t);const a=document.getElementById("result-message"),o=document.getElementById("envelope-id");o.textContent=t,a.style.display="block",a.scrollIntoView({behavior:"smooth"})}else console.error("Could not find EnvelopeCreated event in transaction receipt");n.innerHTML="创建红包",n.disabled=!1}async function K(){const e=document.getElementById("wallet-select-modal");e&&(e.style.display="flex")}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("wallet-select-modal"),n=document.getElementById("close-select-modal"),s=document.getElementById("select-appkit"),i=document.getElementById("select-tron");n&&n.addEventListener("click",()=>{e.style.display="none"}),s&&s.addEventListener("click",()=>{e.style.display="none",$(()=>import("./chain_config-D8DYnceI.js").then(t=>t.dq),__vite__mapDeps([0,1])).then(t=>{t.modal?t.modal.open():u("Web3Modal 初始化失败","error")})}),i&&i.addEventListener("click",async()=>{e.style.display="none",await G()}),e&&e.addEventListener("click",t=>{t.target===e&&(e.style.display="none")})});async function G(){try{if(window.tronWeb&&window.tronWeb.ready){console.log("TronLink detected and ready");const n=window.tronWeb.defaultAddress.base58;if(n){await I(null,n,"tron");return}}else if(window.tronWeb&&(console.log("TronLink detected but not ready, requesting accounts..."),(await window.tronWeb.request({method:"tron_requestAccounts"})).code===200)){setTimeout(async()=>{window.tronWeb.defaultAddress.base58&&await I(null,window.tronWeb.defaultAddress.base58,"tron")},500);return}console.log("TronLink not available or failed, falling back to WalletConnect");const e=await W();e&&await I(null,e,"tron")}catch(e){console.error("Tron connection error:",e),u("连接波场失败: "+e.message,"error")}}async function X(){const e=document.getElementById("token-address"),n=window.ethersProvider,s=window.ethersSigner;if(!n||!s||typeof ethers>"u"){console.log("Ethers provider not initialized or Ethers.js not loaded. Cannot fetch assets."),e.innerHTML='<option value="" disabled selected>请先连接钱包</option>';return}const i=await s.getAddress();e.innerHTML='<option value="" disabled selected>正在加载资产...</option>';let t=0;try{const a=C[m],o=a?a.currency:"ETH",c=await n.getBalance(i);c.gt(0)&&(h(e,"ETH",`${o} (${ethers.utils.formatEther(c).substring(0,8)})`),t++);for(const l of F){const r=new ethers.Contract(l.address,k,n);try{const d=await r.balanceOf(i);d.gt(0)&&(h(e,l.address,`${l.symbol} (${ethers.utils.formatUnits(d,l.decimals).substring(0,8)})`),t++)}catch(d){console.error(`无法获取 ${l.symbol} 的余额:`,d)}}}catch(a){console.error("检查代币余额时出错:",a)}if(t>0){const a=document.createElement("option");a.value="",a.disabled=!0,a.selected=!0,a.textContent="请选择代币",e.insertBefore(a,e.firstChild)}}function h(e,n,s){const i=document.createElement("option");i.value=n,i.textContent=s,e.appendChild(i)}const J=[{inputs:[{internalType:"address",name:"_verifier",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"envelopeId",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EnvelopeClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"envelopeId",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"expiresAt",type:"uint256"},{indexed:!1,internalType:"uint256",name:"numberOfRecipients",type:"uint256"},{indexed:!1,internalType:"uint8",name:"distributionType",type:"uint8"}],name:"EnvelopeCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"envelopeId",type:"uint256"}],name:"EnvelopeFullyClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"envelopeId",type:"uint256"},{indexed:!0,internalType:"address",name:"recoverer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EnvelopeRecovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldValidity",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValidity",type:"uint256"}],name:"EnvelopeValidityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"envelopeId",type:"uint256"}],name:"PasswordVerificationFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"envelopeId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"passwordHash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"encryptedPassword",type:"bytes"},{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"PasswordVerificationWithClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newRate",type:"uint256"}],name:"ServiceFeeRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"ServiceFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ServiceFeeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldVerifier",type:"address"},{indexed:!0,internalType:"address",name:"newVerifier",type:"address"}],name:"VerifierUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"_envelopeId",type:"uint256"}],name:"autoReturnExpiredEnvelope",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_envelopeId",type:"uint256"},{internalType:"bytes",name:"_encryptedPassword",type:"bytes"}],name:"claimEnvelopeWithPassword",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"envelopeId",type:"uint256"},{internalType:"bytes32",name:"requestHash",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct zEnvelope.Claim",name:"_claim",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"confirmClaimWithPassword",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_passwordHash",type:"bytes"},{internalType:"uint256",name:"_validity",type:"uint256"},{internalType:"uint256",name:"_numberOfRecipients",type:"uint256"},{internalType:"uint8",name:"_distributionType",type:"uint8"}],name:"createERC20Envelope",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"_passwordHash",type:"bytes"},{internalType:"uint256",name:"_validity",type:"uint256"},{internalType:"uint256",name:"_numberOfRecipients",type:"uint256"},{internalType:"uint8",name:"_distributionType",type:"uint8"}],name:"createEnvelope",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"envelopeValidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"envelopes",outputs:[{internalType:"address",name:"creator",type:"address"},{internalType:"bytes",name:"passwordHash",type:"bytes"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"remainingAmount",type:"uint256"},{internalType:"bool",name:"claimed",type:"bool"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"uint256",name:"expiresAt",type:"uint256"},{internalType:"uint256",name:"numberOfRecipients",type:"uint256"},{internalType:"uint256",name:"claimedRecipientsCount",type:"uint256"},{internalType:"uint8",name:"distributionType",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20ServiceFeeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestHash",type:"bytes32"},{internalType:"uint256",name:"_envelopeId",type:"uint256"}],name:"failClaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_envelopeId",type:"uint256"}],name:"getEnvelopeInfo",outputs:[{components:[{internalType:"address",name:"creator",type:"address"},{internalType:"bytes",name:"passwordHash",type:"bytes"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"remainingAmount",type:"uint256"},{internalType:"bool",name:"claimed",type:"bool"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"uint256",name:"expiresAt",type:"uint256"},{internalType:"uint256",name:"numberOfRecipients",type:"uint256"},{internalType:"uint256",name:"claimedRecipientsCount",type:"uint256"},{internalType:"uint8",name:"distributionType",type:"uint8"}],internalType:"struct zEnvelope.Envelope",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"hasClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextEnvelopeId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"pendingClaims",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_envelopeId",type:"uint256"}],name:"recoverUnclaimedEnvelope",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"serviceFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setERC20ServiceFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_serviceFee",type:"uint256"}],name:"setServiceFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newValidity",type:"uint256"}],name:"updateEnvelopeValidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newVerifier",type:"address"}],name:"updateVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"verifier",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawServiceFee",outputs:[],stateMutability:"nonpayable",type:"function"}];function u(e,n){console.log(`[${n.toUpperCase()}] ${e}`),n==="error"?alert(`${e}`):n==="success"&&alert(e)}
